<% common = "--no-source --color --format pretty --tags ~@ignore -r features" %>
<% live_servers = ["pt", "pt1", "pt2"] %>
<% dev_servers = ["test1", "test2", "uat", "lander"] %>

<% for server in live_servers %> 
<%= server %>: FIG_NEWTON_FILE=<%= server %>.yml --format html --out tests_<%= server %>.html <%= common %> --tags ~@internal --tags ~@smartapi
<%= server %>_api: FIG_NEWTON_FILE=<%= server %>.yml --format html --out tests_<%= server %>.html <%= common %> --tags ~@internal --tags @smartapi
<% end %>

<% for server in dev_servers %> 
<%= server %>: FIG_NEWTON_FILE=<%= server %>.yml --format html --out tests_<%= server %>.html <%= common %> --tags ~@smartapi
<%= server %>_api: FIG_NEWTON_FILE=<%= server %>.yml --format html --out api_tests_<%= server %>.html <%= common %> --tags @smartapi
<% end %>


default: --profile test1
sanity: --profile test1
live: --profile pt
api: --profile test1_api
live_api: --profile pt_api
jenkins_live: FIG_NEWTON_FILE=pt1.yml --format json --out cucumber.json --no-source --tags ~@ignore --tags ~@internal --tags @smartapi
jenkins_uat: FIG_NEWTON_FILE=headless.yml --format json --out cucumber.json --no-source --tags ~@ignore --tags ~@internal --tags @smartapi
jenkins_sanity: FIG_NEWTON_FILE=test2.yml --format json --out cucumber.json --no-source --tags ~@ignore --tags ~@internal --tags @smartapi
